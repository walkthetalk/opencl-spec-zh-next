\definepapersize[CD][width=20cm,height=20cm]
\setuppapersize[A4][A4]

\setuppagenumbering[
  state=start,
  way=bytext,
  alternative=doublesided,
  location=,%header,
  %left=the,
  %right=ok,
]
% don't use TAB, and no space between *reg=val*, and no null line,
% or it will be ommitted
\setuplayout[
  % vertical
  top=20mm,
    topdistance=2mm,
      header=\bodyfontsize,
        headerdistance=2mm,
        footerdistance=2mm,
      footer=\bodyfontsize,
    bottomdistance=2mm,
  bottom=20mm,
  topspace=\dimexpr(\topheight + \topdistance),
  bottomspace=\dimexpr(\bottomheight + \bottomdistance),
  height=fit,
  % horizontal
  leftedge=10mm,
    leftedgedistance=2mm,
      leftmargin=20mm,
        leftmargindistance=2mm,
        rightmargindistance=2mm,
      rightmargin=20mm,
    rightedgedistance=2mm,
  rightedge=10mm,
  backspace=\dimexpr(\leftedgewidth + \leftedgedistance + \leftmarginwidth + \leftmargindistance + 5mm),
  cutspace=\dimexpr(\rightedgewidth + \rightedgedistance + \rightmarginwidth + \rightmargindistance),
  width=fit,
  % misc
  location=middle,
  marking=on
]

% set the background clors
% NOTE: it is confilict with \show frame
\if 0
\setupbackgrounds[page][background=color,backgroundcolor=gray:1]
\setupbackgrounds[top, bottom][background=color,backgroundcolor=gray:1]
\setupbackgrounds[header][background=color,backgroundcolor=darkyellow]
\setupbackgrounds[footer][background=color,backgroundcolor=darkyellow]
\setupbackgrounds[text][leftedge,leftmargin,text,rightmargin,rightedge][background=color,backgroundcolor=white]
\fi
